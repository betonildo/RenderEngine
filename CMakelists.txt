# TODO: Selection to Linux OS
cmake_minimum_required(VERSION 2.8)

project(RenderEngine)

include_directories(external/LinearMath/include/)
include_directories(external/SDL2-2.0.5/WinMinGW64/include/)
include_directories(include/)


file(GLOB SOURCES ${PROJECT_SOURCE_DIR}/src/*.cpp)

link_directories(${PROJECT_SOURCE_DIR}/external/SDL2-2.0.5/WinMinGW64/lib/)
add_library(RenderEngine SHARED ${SOURCES})
target_link_libraries(RenderEngine PUBLIC mingw32 SDL2 SDL2main SDL2_image SDL2.dll OpenGL32)

add_executable(RenderEngine_Test test/main.cpp)
target_link_libraries(RenderEngine_Test RenderEngine)


install(
    DIRECTORY ${PROJECT_SOURCE_DIR}/include/ 
    DESTINATION ${PROJECT_BINARY_DIR}/include/
    FILES_MATCHING PATTERN "*.h"
)

install(
    DIRECTORY ${PROJECT_SOURCE_DIR}/external/SDL2-2.0.5/WinMinGW64/bin/
    DESTINATION ${PROJECT_BINARY_DIR}/
    FILES_MATCHING PATTERN "*.dll"
)

install(
    DIRECTORY ${PROJECT_SOURCE_DIR}/resources/
    DESTINATION ${PROJECT_BINARY_DIR}/resources/
)